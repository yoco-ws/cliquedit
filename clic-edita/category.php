<?php
namespace CE;class category{ public static function id($id=false){if(!$id){echo "data-ce-category=$id";}else{\CE\category::$id=$id;echo "data-ce-category=$id";}} public static function getId(){return \CE\category::$id;} public static function landing($templatePath,$categoryId,$numberOfArticles=10,$allowAddition=false,$detailPath=false){$i=0;$articles[]=\CE\Loader::getArticles($categoryId,$numberOfArticles);if(isset($articles[0])){if($allowAddition&&\CE\session::isEditMode()){$nextId=\CE\Loader::nextArticle($categoryId);$thisArticle=array($categoryId,$nextId);echo '<span class="first-ce-article delimiter"></span>';include $templatePath;}do{if(\CE\Loader::isPublished($categoryId,$articles[0][$i])){$thisArticle=array($categoryId,$articles[0][$i]);include $templatePath;}$i++;}while($i<$numberOfArticles&&$i<count($articles[0]));\CE\Loader::removeArticles($categoryId,$numberOfArticles);}else{if($allowAddition&&\CE\session::isEditMode()){$nextId=\CE\Loader::nextArticle($categoryId);$thisArticle=array($categoryId,$nextId);echo '<span class="first-ce-article delimiter"></span>';include $templatePath;}else{}}} private static $id;}?>